Прибор для проверки МА41

Есть два варианта проверки:
1) старт с нажатия кнопки на приборе.
при этом МАУП должен быть подключён 4-пиновым кабелем к прибору (UART).
AT-адрес у него считывается автоматически по UART.
При этом проверка версии прошивки не производится (т.к. в правильной прошивке UART не будет работать. Эта проверка делается на первичной (неправильной) прошивке).

2) старт с нажатия кнопки в Android-приложении.
при этом МАУП должен быть подключён 2-пиновым разъёмом (с иголками) (эта проверка производится после вторичной прошивки).
В этом варианте AT-адрес не считывается, вместо этого вводися номер с наклейки МАУПа в Android-приложении.
При этом производится проверка версии прошивки (ок-последняя, вторичная прошивка; BAD,ПЛОХ-первичная; unknown,НЕИЗ-версия не определилась)

Для всех вариантов:
Переключатель на приборе задаёт, проводить проверку приёма Алярма МАУПом или нет (сам прибор не может генерировать Алярм. Его нужно генерировать извне платой Добрынина или Иванова)
В конце каждого теста выводится номер, который должен быть на наклейке МАУПА для проверки.

При неудачном тесте - тест повторяется (кол-во повторов задаётся в настройках .ino).
При неудаче одного из тестов (даже после повторов) - проверка останавливается. выводится сообщение.
При сильных помехах - повторять проверку через некоторое время. Например по 2,4ГГц МАУП может не отвечать долго.

Тесты:
Ток потребления
Считывание АТ-Адреса
Проверка микросхемы АТ (2,4ГГц)
Проверка стабильности ФАПЧ микросхемы ADF (тест 20/20)
Проверка приёма Алярма
Проверка версии прошивки